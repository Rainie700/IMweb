<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜尋結果</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>搜尋結果</h1>
        <nav class="top-bar">
            <a href="index.html">回首頁</a> | <a href="index-en.html">English</a>
        </nav>
    </header>

    <main>
        <h2>搜尋結果：</h2>
        <!-- 搜尋結果顯示區 -->
        <div id="search-results">
            <script>
                (function () {
                    var cx = '70e792a167ae24708'; // 搜尋引擎 ID
                    var gcse = document.createElement('script');
                    gcse.type = 'text/javascript';
                    gcse.async = true;
                    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(gcse, s);
                })();

                function searchCallback() {
                    // 搜尋不到時顯示的訊息
                    const resultsContainer = document.querySelector('.gsc-results-wrapper-visible');
                    const noResultsMessage = document.createElement('p');
                    noResultsMessage.id = 'no-results-message';
                    noResultsMessage.style.color = 'red';
                    noResultsMessage.style.textAlign = 'center';
                    noResultsMessage.style.marginTop = '20px';
                    noResultsMessage.textContent = '未找到相關搜尋結果，請嘗試其他關鍵字。';

                    // 如果找不到內容，則顯示提示訊息
                    if (!resultsContainer || resultsContainer.innerHTML.trim() === '') {
                        const searchResultsDiv = document.getElementById('search-results');
                        searchResultsDiv.appendChild(noResultsMessage);
                    } else {
                        // 如果有結果，確保提示訊息不會重複顯示
                        const existingMessage = document.getElementById('no-results-message');
                        if (existingMessage) {
                            existingMessage.remove();
                        }
                    }
                }

                // 延遲檢查結果是否存在
                setInterval(searchCallback, 1000);
            </script>
            <gcse:searchresults-only></gcse:searchresults-only>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 資訊管理學系</p>
    </footer>
</body>
</html>

